<!------------------------------
; Title: Assignment 8.4
; Author: George Henderson
; Date: 13 December 2020
; Description: Demonstrates using jQuery to Create an HTML table and initialize event handlers on each of the rows.
------------------------------>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" href="../site.css">

  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>
<body>

<h1>Employee Listing</h1>
<div id="emps"></div>

<script type="text/javascript">

  let employees = [
    new Employee(1, 'Jerry', 'Jerrison', 'Manager'),
    new Employee(2, 'Jim', 'Jimson', 'Supervisor'),
    new Employee(3, 'Jake', 'Jakeson', 'Associate'),
    new Employee(4, 'Terry', 'Terrison', 'Associate'),
    new Employee(5, 'Tina', 'Smith', 'Associate')
  ];
  let output = '<table id="employee"><tr><th>Id</th><th>First Name</th><th>Last Name</th><th>Title</th></tr>';

  // Create Employees Table
  for (let i = 0; i < employees.length; i++) {
    output += '<tr><td>' + employees[i].id + '</td><td>' + employees[i].firstName + '</td><td>' + employees[i].lastName + '</td><td>' + employees[i].title + '</td></tr>'
  }
  output += '</table>'
  document.getElementById('emps').innerHTML = output;

  // jQuery onClick event
  // Don't remove this, just add your code to the body of the event (curly braces)
  $(function () {
    $("table tr").click(function () {
      let id = $(this).find('td:first').html();
      getEmployee(id);
    })
  });

  // Function
  // Parameters - Integer (id)
  // Description - alerts details about the employee that matches the parameter 'id'.
  function getEmployee(id) {
    for (let i = 0; i < employees.length; i++) {
      if (employees[i].id == id) {
        alert(employees[i].id + ' ' + employees[i].firstName + ' ' + employees[i].lastName + ' ' + employees[i].title);
        break;
      }
    }
  }

  // Employee Constructor
  function Employee(id, firstName, lastName, title) {
    this.id = id;
    this.firstName = firstName;
    this.lastName = lastName;
    this.title = title;
  }

</script>
</body>
</html>
